<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>GHC Weekly News - 2014/10/31 (Halloween Edition) — The Glasgow Haskell Compiler</title>
    <meta http-equiv="Content-Language" content="en-gb">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="../ghc.css" rel="stylesheet" type="text/css">

  </head>
  <body>
    <header id="header">
      <span id="header-txt"> GHC </span>
      <span id="header-name"> The Glasgow Haskell Compiler </span>
    </header>
    <div>
    <div class="row no-gutters">
      <div id="sidebar" class="col-sm-4">
       <div class="sticky-top">
          <div class="navbar-fixed-left">
	<div class="nav navbar-nav">
  <span class="nav-title">About GHC</span>
  <li class="nav-item"> <a class="nav-link" href="../">Home</a> </li>
  <li class="nav-item"> <a class="nav-link" href="../license.html">License</a> </li>
  <li class="nav-item"> <a class="nav-link" href="https://haskell.org/haskellwiki/GHC">Documentation</a> </li>
  <li class="nav-item"> <a class="nav-link" href="../blog.html">Blog</a> </li>
  <li class="nav-item"> <a class="nav-link" href="../download.html">Download</a> </li>
  <li class="nav-item"> <a class="nav-link" href="https://gitlab.haskell.org/ghc/ghc/wikis/report-a-bug">Report a bug</a> </li>
  <li class="nav-item"> <a class="nav-link" href="https://gitlab.haskell.org/ghc/ghc/wikis">Developers Wiki</a> </li>
  <span class="nav-title">About Haskell</span>
  <li class="nav-item"> <a class="nav-link" href="https://haskell.org">Haskell.org</a> </li>
  <li class="nav-item"> <a class="nav-link" href="https://www.haskell.org/haskellwiki/Definition">Haskell 2010 Report</a> </li>
  <li class="nav-item"> <a class="nav-link" href="https://www.haskell.org/haskellwiki/Mailing_lists">Haskell Mailing Lists</a> </li>
  <span class="nav-title">Links</span>
  <li class="nav-item"> <a class="nav-link" href="http://hackage.haskell.org/platform/">Haskell Platform</a> </li>
  <li class="nav-item"> <a class="nav-link" href="http://hackage.haskell.org/">Hackage</a> </li>

</div>
</div>

       </div>
      </div>
      <div id="content" class="col">
        <h1>GHC Weekly News - 2014/10/31 (Halloween Edition)</h1>
<h4 class="text-muted">thoughtpolice - 2014-10-31T23:57:09</h4>

<p>Hello *,</p>
<p>Welcome to the GHC Weekly news. And it’s just in time before you go out and eat lots of candy and food.</p>
<ul>
<li>David Feuer and Joachim Brietner spent some time this past week talking about more optimizations for Haskell code for fusing code, and creating better consumers and producers. This work includes optimizations of “One shot lambdas” (lambdas used at most once) and Call Arity, which was implemented by Joachim at Microsoft Research. The thread is here - <a href="https://www.haskell.org/pipermail/ghc-devs/2014-October/006901.html" class="uri">https://www.haskell.org/pipermail/ghc-devs/2014-October/006901.html</a></li>
</ul>
<p>The current situation is that Call Arity and One shot analysis tends to have good combined results for exploiting more fusion opportunities, but sometimes these backfire. As a result, Joachim and David have worked on improving the situation - particularly by letting programmers help with a new <code>oneShot</code> primitive (in Phab:D392 &amp; Phab:D393).</p>
<ul>
<li>Herbert Valerio Riedel opened up a discussion about the origins of code contributions. In short, we’d like to have some stronger ground to stand on in the face of contributions from contributors - the origin of a change and its legal status is a bit nebulous. The thread is here: https://www.haskell.org/pipermail/ghc-devs/2014-October/006959.html</li>
</ul>
<p>Overall, there’s been a lot of separate points made, including CLAs (unlikely), “Developer Certificates of Origin” a la the Linux Kernel, and reworking how we mark up header files, and keep track of GHC’s long history of authors.</p>
<p>If you work on a big project where some of these concerns are real, we’d like to hear what you have to say!</p>
<ul>
<li><p>Gintautas Milauskas has done some fantastic work for GHC on Windows lately, including fixing tests, improving the build, and making things a lot more reasonable to use. With his work, we hope GHC 7.10 will finally ship an updated MinGW compiler (a long requested feature), and have a lot of good fixes for windows. Thank you, Gintautas!</p></li>
<li><p>And on that note, the call for Windows developers rages on - it looks like Gintautaus, Austin, Simon, and others will be meeting to discuss the best way to tackle our current woes. Are you a Windows user? Please give us input - having input is a crucial part of the decision making process, so let us know.</p></li>
<li><p>Jan Stolarek had a question about core2core - a lot of questions, in fact. What’s the difference between demand, strictness, and cardinality analylsis? Does the demand analyzer change things? And what’s going on in some of the implementation? A good read if you’re interested in deep GHC optimization magic: <a href="https://www.haskell.org/pipermail/ghc-devs/2014-October/006968.html" class="uri">https://www.haskell.org/pipermail/ghc-devs/2014-October/006968.html</a></p></li>
<li><p>Peter Wortmann has put up the new DWARF generation patches for review, in Phab:D396. This is one of the major components we still plan on landing in 7.10, and with a few weeks to spare, it looks like we can make sure it’s merged for the STABLE freeze!</p></li>
</ul>
<p>There have been a lot of good changes in the tree this past week:</p>
<ul>
<li><p>Thanks to Michael Orlitzky, we plan on adding doctest examples to more modules in 7.10, and increase that coverage further. This is <em>really</em> important work, but very low fruit - thanks a ton Michael!</p></li>
<li><p><code>Data.Bifunctor</code> is now inside base! (Phab:D336)</p></li>
<li><p><code>atomicModifyIORef'</code> has been optimized with excellent speedups (as much as 1.7x to 1.4x, depending on the RTS used), thanks to some older work by Patrick Palka (Phab:D315). GHC’s internals have been reworked to unwire <code>Integer</code> from GHC, leading not only to a code cleanup, but laying the foundation for further GMP (and non-GMP!) related <code>Integer</code> improvements (Phab:D351).</p></li>
<li><p>David Feuer and Joachim have been relentless in improving fusion opportunities, including the performance of <code>take</code>, <code>isSuffixOf</code>, and more prelude improvements, spread over nearly half a dozen patches. And this doesn’t even include the work on improving <code>oneShot</code> or Call Arity!</p></li>
<li><p>In a slight change to <code>base</code> semantics, David Feuer also finally fixed <a href="https://gitlab.haskell.org/ghc/ghc/issues/9236">#9236</a>. This is a change that can expose latent bugs in your program (as it did for Haddock), so be sure to test thoroughly with 7.10 (Phab:D327).</p></li>
<li><p>GHC now has support for a new <code>__GLASGOW_HASKELL_TH__</code> macro, primarily useful for testing bootstrap compilers, or compilers which don’t support GHCi.</p></li>
</ul>
<p>And there have been many closed tickets: <a href="https://gitlab.haskell.org/ghc/ghc/issues/9549">#9549</a>, <a href="https://gitlab.haskell.org/ghc/ghc/issues/9593">#9593</a>, <a href="https://gitlab.haskell.org/ghc/ghc/issues/9720">#9720</a>, <a href="https://gitlab.haskell.org/ghc/ghc/issues/9031">#9031</a>, <a href="https://gitlab.haskell.org/ghc/ghc/issues/8345">#8345</a>, <a href="https://gitlab.haskell.org/ghc/ghc/issues/9439">#9439</a>, <a href="https://gitlab.haskell.org/ghc/ghc/issues/9435">#9435</a>, <a href="https://gitlab.haskell.org/ghc/ghc/issues/8825">#8825</a>, <a href="https://gitlab.haskell.org/ghc/ghc/issues/9006">#9006</a>, <a href="https://gitlab.haskell.org/ghc/ghc/issues/9417">#9417</a>, <a href="https://gitlab.haskell.org/ghc/ghc/issues/9727">#9727</a>, <a href="https://gitlab.haskell.org/ghc/ghc/issues/2104">#2104</a>, <a href="https://gitlab.haskell.org/ghc/ghc/issues/9676">#9676</a>, <a href="https://gitlab.haskell.org/ghc/ghc/issues/2628">#2628</a>, <a href="https://gitlab.haskell.org/ghc/ghc/issues/9510">#9510</a>, <a href="https://gitlab.haskell.org/ghc/ghc/issues/9740">#9740</a>, <a href="https://gitlab.haskell.org/ghc/ghc/issues/9734">#9734</a>, <a href="https://gitlab.haskell.org/ghc/ghc/issues/9367">#9367</a>, <a href="https://gitlab.haskell.org/ghc/ghc/issues/9726">#9726</a>, <a href="https://gitlab.haskell.org/ghc/ghc/issues/7984">#7984</a>, <a href="https://gitlab.haskell.org/ghc/ghc/issues/9230">#9230</a>, <a href="https://gitlab.haskell.org/ghc/ghc/issues/9681">#9681</a>, <a href="https://gitlab.haskell.org/ghc/ghc/issues/9747">#9747</a>, and <a href="https://gitlab.haskell.org/ghc/ghc/issues/9236">#9236</a>.</p>

      </div>
    </div>
    <div class="row">
          </td>
  </tr>
</table>

    </div>
  </div>
  </body>
</html>
